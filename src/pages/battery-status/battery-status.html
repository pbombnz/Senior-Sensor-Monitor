<ion-header>
  <ion-navbar>
    <ion-title>Battery Status</ion-title>
  </ion-navbar>

</ion-header>

<ion-content *ngIf="!mqttClientProvider || mqttClientProvider?.mqttStatus !== 'Connected'">
  <ion-grid style="height: 100;">
    <ion-row align-items-center style="height: 100;">
      <ion-col text-center>
        <h2>No Sensors Detected</h2>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-content padding *ngIf="mqttClientProvider && objectKeys(mqttClientProvider?.messagesBuffer).length > 0">
  <ion-card *ngFor="let roomDetails of objectKeys(mqttClientProvider.messagesBuffer)">
    <ion-item>
      <ion-row>
        <ion-col>
          <h2>{{capitalize(roomDetails)}}</h2>
          <ion-note>Updated {{mqttClientProvider.messagesBuffer[roomDetails].date.fromNow()}}</ion-note>
        </ion-col>
        <ion-col align-self-center text-right>
          <h2>{{mqttClientProvider.messagesBuffer[roomDetails].batteryPercentage}}%</h2>
        </ion-col>
      </ion-row>
    </ion-item>
  </ion-card>
</ion-content>
