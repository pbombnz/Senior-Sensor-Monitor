<ion-header>
  <ion-navbar>
    <ion-title>
      Senior Status
    </ion-title>
  </ion-navbar>
</ion-header>

<!--ion-content padding>

  <ion-card>
    <ion-card-content>Status: <b>{{mqtt.status}}</b></ion-card-content>
  </ion-card>

  <ion-row justify-content-center align-items-center>
    <button ion-button (click)="mqtt.connect()">Connect</button>
    <button ion-button (click)="mqtt.disconnect()">Disconnect</button>
  </ion-row>

  <ion-card>
    <ion-card-header>Message Received:</ion-card-header>
    <ion-card-content>{{mqtt.message}}</ion-card-content>
  </ion-card>

  <ion-label stacked>Message to Send:</ion-label>
  <ion-textarea [(ngModel)]='mqtt.messageToSend'>{{mqtt.messageToSend}}</ion-textarea>
  <button ion-button full (click)="mqtt.sendMessage()">Send Message</button>
</ion-content -->
<ion-content padding>

  <ion-card>
    <ion-card-content>Status: <b>{{mqtt.status}}</b></ion-card-content>
  </ion-card>

  <ion-row justify-content-center align-items-center>
    <button ion-button (click)="mqtt.connect()">Connect</button>
    <button ion-button (click)="mqtt.disconnect()">Disconnect</button>
  </ion-row>

  <ion-card >
    <ion-card-header><h2>Last Seen</h2></ion-card-header>
    <ion-card-content *ngIf="mqtt.lastSeenLocations && mqtt.lastSeenLocations.length > 0">
      <ion-card *ngFor="let lastSeenLocation of mqtt.lastSeenLocations">
        <ion-card-content>
          {{mqtt.prettifyLocation(lastSeenLocation?.location)}} about {{lastSeenLocation?.timestamp.fromNow()}}
        </ion-card-content>
      </ion-card>
    </ion-card-content>
    <ion-card-content *ngIf="!mqtt.lastSeenLocations || mqtt.lastSeenLocations.length == 0">
      No detected movement since {{mqtt.startDate.fromNow()}}.
    </ion-card-content>
  </ion-card>
</ion-content>

